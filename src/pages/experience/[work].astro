---
import Work from "../../components/expPages/Work";
import Layout from "../../layouts/Layout.astro";
import { experiences } from "../../components/Experience";

export function getStaticPaths() {
  const result = experiences.map((e, i) => {
    return {
      params: {
        work: e.work,
      },
      props: e,
    };
  });
  return result;
}

const data = Astro.props;
---

<Layout title="Wei Shen | Fullstack Developer">
  <main>

    <div class="container mx-auto">
      <div class="row">
        <div class="col job-title">
          <p>
            {data.company}
            {data.years ? `(${data.years})` : ""}
          </p>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col">
          <div style={{ display: "block" }} class="mx-auto">
            <div class="prjName">{data.projectName}</div>
          </div>
        </div>
      </div>
      <div class="row">
        {data.description ? <p>{data.description}</p> : null}
      </div>
      <div class="row mb-5 job-desc">
        <div class="col-8">
          {
            data.contributionPoints ? (
              <div class="d-flex flex-column">
                <div
                  class="d-flex"
                  style={{
                    fontSize: 20,
                    fontWeight: "bold",
                    letterSpacing: ".1em",
                  }}
                >
                  RESPONSIBILITIES / CONTRIBUTION
                </div>
                <div class="d-flex">
                  {Array.isArray(data.contributionPoints) &&
                  data.contributionPoints ? (
                    <ul>
                      {data.contributionPoints.map((p: string) => {
                        return <li>{p}  </li>;
                      })}
                    </ul>
                  ) : null}
                </div>
              </div>
            ) : null
          }
        </div>
        <div class="col-4">
          {
            (Array.isArray(data.detailsTech) && data.detailsTech.length) > 0 ? (
              <div class="d-flex flex-column">
                <div
                  class="d-flex"
                  style={{
                    fontSize: 20,
                    fontWeight: "bold",
                    letterSpacing: ".1em",
                  }}
                >
                  TECHNOLOGIES
                </div>
                {data.detailsTech.map((detail: string) => {
                  return <div class="d-flex">{detail}</div>;
                })}
              </div>
            ) : null
          }
        </div>
      </div>
    </div>
  </main>
</Layout>
